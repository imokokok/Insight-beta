/**
 * 全局配置常量
 *
 * 集中管理应用中的魔法数字和配置项
 */

// ============================================================================
// WebSocket 配置
// ============================================================================

export const WS_CONFIG = {
  /** WebSocket URL */
  URL: process.env.NEXT_PUBLIC_WS_URL || 'ws://localhost:3001',
  /** 最大重连次数 */
  MAX_RECONNECT_ATTEMPTS: 5,
  /** 基础重连延迟（毫秒） */
  BASE_RECONNECT_DELAY_MS: 1000,
  /** 最大重连延迟（毫秒） */
  MAX_RECONNECT_DELAY_MS: 30000,
  /** 退避乘数 */
  BACKOFF_MULTIPLIER: 2,
  /** 心跳间隔（毫秒） */
  HEARTBEAT_INTERVAL: 30000,
  /** 心跳超时（毫秒） */
  HEARTBEAT_TIMEOUT: 60000,
} as const;

// ============================================================================
// 防抖/节流配置
// ============================================================================

export const DEBOUNCE_CONFIG = {
  /** 搜索输入防抖延迟（毫秒） */
  SEARCH_DELAY: 300,
  /** 窗口调整节流延迟（毫秒） */
  RESIZE_DELAY: 200,
  /** 滚动节流延迟（毫秒） */
  SCROLL_DELAY: 100,
} as const;

// ============================================================================
// 缓存配置
// ============================================================================

export const CACHE_CONFIG = {
  /** 默认缓存时间（毫秒） */
  DEFAULT_CACHE_TIME: 5 * 60 * 1000, // 5分钟
  /** 默认刷新间隔（毫秒） */
  DEFAULT_REFRESH_INTERVAL: 30 * 1000, // 30秒
  /** 默认去重间隔（毫秒） */
  DEFAULT_DEDUPING_INTERVAL: 2000, // 2秒
  /** 本地存储前缀 */
  STORAGE_PREFIX: 'oracle_',
} as const;

// ============================================================================
// 协议颜色（已移至 lib/theme/colors.ts）
// ============================================================================

export { PROTOCOL_COLORS } from '@/lib/design-system/tokens/colors';

// ============================================================================
// 数据新鲜度阈值配置（秒）
// ============================================================================

export const DEFAULT_STALENESS_THRESHOLDS = Object.freeze({
  PYTH: 60,
  CHAINLINK: 3600,
  REDSTONE: 60,
  UMA: 600,
} as const);

// ============================================================================
// 数据库配置
// ============================================================================

export const DATABASE_CONFIG = {
  /** 默认连接池大小 */
  DEFAULT_POOL_SIZE: 10,
  /** 默认空闲超时（毫秒） */
  DEFAULT_IDLE_TIMEOUT: 30000,
  /** 默认连接超时（毫秒） */
  DEFAULT_CONNECTION_TIMEOUT: 5000,
  /** 默认最大使用次数 */
  DEFAULT_MAX_USES: 7500,
} as const;

// ============================================================================
// 默认回退价格配置
// ============================================================================

export const DEFAULT_FALLBACK_PRICES = Object.freeze({
  BTC: 50000,
  ETH: 3000,
  DEFAULT: 100,
} as const);

// ============================================================================
// 跨链 API 支持的交易对
// ============================================================================

export const VALID_SYMBOLS = ['BTC', 'ETH', 'SOL', 'LINK', 'AVAX', 'MATIC', 'UNI', 'AAVE'] as const;
