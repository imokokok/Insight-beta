# 探索页面优化任务列表

## [ ] 任务 1: 接入真实数据源

- **优先级**: P0
- **依赖**: 无
- **描述**:
  - 将所有API端点从mock数据切换到真实预言机数据
  - 集成Chainlink、Pyth、Redstone的实时API
  - 实现数据聚合和标准化逻辑
- **子任务**:
  - [ ] 1.1: 创建数据源适配器接口
  - [ ] 1.2: 实现Chainlink数据源适配器
  - [ ] 1.3: 实现Pyth数据源适配器
  - [ ] 1.4: 实现Redstone数据源适配器
  - [ ] 1.5: 更新market-overview API使用真实数据
  - [ ] 1.6: 更新trending API使用真实数据
  - [ ] 1.7: 更新search API使用真实数据
  - [ ] 1.8: 更新discovery API使用真实数据

## [ ] 任务 2: 实现实时数据推送

- **优先级**: P1
- **依赖**: 任务 1
- **描述**:
  - 添加WebSocket支持实现实时数据更新
  - 实现数据缓存层减少API调用
- **子任务**:
  - [ ] 2.1: 设计WebSocket消息协议
  - [ ] 2.2: 实现WebSocket服务端
  - [ ] 2.3: 实现客户端WebSocket连接管理
  - [ ] 2.4: 添加Redis/Upstash缓存层
  - [ ] 2.5: 实现缓存失效策略

## [ ] 任务 3: 完善测试覆盖

- **优先级**: P1
- **依赖**: 无
- **描述**:
  - 添加组件级别的单元测试
  - 添加探索页面的E2E测试
- **子任务**:
  - [ ] 3.1: 添加MarketOverview组件测试
  - [ ] 3.2: 添加TrendingFeeds组件测试
  - [ ] 3.3: 添加DataDiscovery组件测试
  - [ ] 3.4: 添加GlobalSearch组件测试
  - [ ] 3.5: 添加探索页面E2E测试

## [ ] 任务 4: 实现数据持久化

- **优先级**: P1
- **依赖**: 无
- **描述**:
  - 将收藏和历史记录从localStorage迁移到后端
  - 支持跨设备同步
- **子任务**:
  - [ ] 4.1: 设计收藏和历史数据模型
  - [ ] 4.2: 创建数据库表结构
  - [ ] 4.3: 实现收藏API端点
  - [ ] 4.4: 实现历史记录API端点
  - [ ] 4.5: 更新前端hooks使用API

## [ ] 任务 5: 性能优化

- **优先级**: P2
- **依赖**: 任务 1
- **描述**:
  - 优化大数据量场景下的性能
  - 改进缓存策略
- **子任务**:
  - [ ] 5.1: 实现交易对列表虚拟滚动
  - [ ] 5.2: 优化API响应缓存策略
  - [ ] 5.3: 添加图片/图标懒加载
  - [ ] 5.4: 实现数据预加载

## [ ] 任务 6: 用户体验改进

- **优先级**: P2
- **依赖**: 无
- **描述**:
  - 添加数据导出功能
  - 改进移动端交互
  - 完善可访问性
- **子任务**:
  - [ ] 6.1: 实现CSV/JSON数据导出
  - [ ] 6.2: 优化移动端触摸交互
  - [ ] 6.3: 添加缺失的ARIA标签
  - [ ] 6.4: 改进键盘导航体验

## 任务依赖关系

- 任务 2 依赖 任务 1（需要真实数据源才能实现实时推送）
- 任务 5 依赖 任务 1（性能优化需要真实数据场景）
- 任务 1、3、4、6 可并行执行
