# 探索页面增强 Spec

## Why
探索页面作为预言机数据分析平台的入口，目前功能较为单薄，仅有协议探索和地址搜索两个基础功能。需要增强其数据发现能力、视觉呈现和交互体验，使其成为用户发现数据价值、探索市场趋势的核心入口，同时避免与其他页面功能重复。

## What Changes
- 新增市场概览 Tab，展示整体市场健康度和活跃度统计
- 新增热门交易对 Tab，基于交易量、波动性等维度排序
- 新增数据发现 Tab，提供异常模式自动发现和趋势洞察
- 增强协议探索组件，添加筛选、排序、收藏功能
- 增强地址探索组件，添加历史记录、快捷入口
- 新增全局搜索功能，支持跨维度搜索
- 优化页面视觉设计，提升信息层次和交互体验
- 添加个性化功能（收藏、历史记录、偏好设置）

## Impact
- Affected specs: 探索页面用户体验、数据发现能力
- Affected code: 
  - `src/app/explore/page.tsx`
  - `src/features/oracle/components/ProtocolExplorer.tsx`
  - `src/features/oracle/components/AddressExplorer.tsx`
  - 新增 `src/features/explore/` 目录

## ADDED Requirements

### Requirement: 市场概览功能
系统应提供市场概览功能，展示预言机生态系统的整体健康状况和关键指标。

#### Scenario: 用户查看市场概览
- **WHEN** 用户进入探索页面并选择"市场概览"Tab
- **THEN** 系统显示以下内容：
  - 总体健康评分（聚合所有协议）
  - 活跃Feed数量和变化趋势
  - 24小时更新次数统计
  - 价格偏差分布概览
  - 协议覆盖率统计
  - 最近异常事件摘要（链接到Alerts页面）

### Requirement: 热门交易对功能
系统应提供热门交易对排行榜，帮助用户快速发现市场关注点。

#### Scenario: 用户浏览热门交易对
- **WHEN** 用户选择"热门交易对"Tab
- **THEN** 系统显示可按以下维度排序的交易对列表：
  - 按交易量排序
  - 按波动性排序
  - 按更新频率排序
  - 按关注度（用户收藏数）排序
- **AND** 每个交易对卡片显示：价格、24h变化、交易量、数据源数量、健康状态

### Requirement: 数据发现功能
系统应提供智能数据发现功能，自动识别异常模式和趋势洞察。

#### Scenario: 用户探索数据发现
- **WHEN** 用户选择"数据发现"Tab
- **THEN** 系统显示：
  - 异常模式检测（价格突变、偏差异常、更新延迟）
  - 趋势洞察（连续上涨/下跌、波动率变化）
  - 新上线Feed提醒
  - 协议活跃度变化
- **AND** 用户可点击发现项查看详情或跳转相关页面

### Requirement: 增强协议探索
系统应增强协议探索功能，提供更丰富的筛选和交互能力。

#### Scenario: 用户筛选协议
- **WHEN** 用户在协议探索Tab中
- **THEN** 用户可以：
  - 按协议类型筛选（Chainlink、Pyth、RedStone等）
  - 按价格范围筛选
  - 按24h涨跌幅筛选
  - 按健康状态筛选
  - 搜索特定交易对
- **AND** 用户可以收藏感兴趣的Feed
- **AND** 用户可以快速跳转到协议详情页

### Requirement: 增强地址探索
系统应增强地址探索功能，提供更便捷的地址查询体验。

#### Scenario: 用户查询地址
- **WHEN** 用户在地址探索Tab中
- **THEN** 用户可以：
  - 查看最近搜索的地址历史（本地存储）
  - 使用预设的热门地址快捷入口
  - 查看地址输入的实时验证反馈
  - 获得地址类型的智能提示（合约/EOA）

### Requirement: 全局搜索功能
系统应提供全局搜索功能，支持跨维度搜索。

#### Scenario: 用户使用全局搜索
- **WHEN** 用户在搜索框输入关键词
- **THEN** 系统实时显示匹配结果：
  - 匹配的交易对
  - 匹配的协议
  - 匹配的地址（如果输入类似地址格式）
  - 匹配的链
- **AND** 用户可点击结果直接跳转

### Requirement: 个性化功能
系统应提供个性化功能，提升用户使用体验。

#### Scenario: 用户使用个性化功能
- **WHEN** 用户登录或使用平台
- **THEN** 用户可以：
  - 收藏感兴趣的Feed、地址
  - 查看收藏列表
  - 设置偏好（默认Tab、默认排序等）
  - 查看浏览历史
- **AND** 数据存储在本地（localStorage）

### Requirement: 响应式设计优化
系统应优化探索页面的移动端体验。

#### Scenario: 用户在移动设备访问
- **WHEN** 用户在移动设备上访问探索页面
- **THEN** 页面布局自适应：
  - Tab改为可滑动的横向列表
  - 卡片改为单列布局
  - 筛选器改为底部弹出面板
  - 搜索框固定在顶部

## MODIFIED Requirements

### Requirement: 页面布局结构
探索页面应采用更清晰的信息架构和视觉层次。

#### Scenario: 用户浏览探索页面
- **WHEN** 用户访问探索页面
- **THEN** 页面结构如下：
  - 顶部：页面标题 + 全局搜索框
  - 快捷入口区：收藏的Feed、最近访问
  - Tab导航区：市场概览、热门交易对、协议探索、地址探索、数据发现
  - 内容区：根据选中Tab显示对应内容

## REMOVED Requirements
无移除的功能。
